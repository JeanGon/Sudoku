
let listaSudoku = [
    [
        ['1','4','9','3','6','8','5','7','2'],
        ['7','2','8','1','5','4','3','9','6'],
        ['5','3','6','9','2','7','1','4','8'],
        ['2','5','4','6','7','3','8','1','9'],
        ['8','9','3','2','4','1','6','5','7'],
        ['6','7','1','8','9','5','2','3','4'],
        ['9','8','5','7','3','6','4','2','1'],
        ['3','1','2','4','8','9','7','6','5'],
        ['4','6','7','5','1','2','9','8','']
    ],

    /*      sudoku resolvido 

        ['1','4','9','3','6','8','5','7','2'],
        ['7','2','8','1','5','4','3','9','6'],
        ['5','3','6','9','2','7','1','4','8'],
        ['2','5','4','6','7','3','8','1','9'],
        ['8','9','3','2','4','1','6','5','7'],
        ['6','7','1','8','9','5','2','3','4'],
        ['9','8','5','7','3','6','4','2','1'],
        ['3','1','2','4','8','9','7','6','5'],
        ['4','6','7','5','1','2','9','8','3']
    */

    [

        ['9','','','','','','','',''],
        ['','','','','5','','','',''],
        ['','5','','','','','','','7'],
        ['','','5','','','','','',''],
        ['','','','','','','','','1'],
        ['','','','','','','','',''],
        ['','','','','','','','',''],
        ['3','','','','','','','',''],
        ['','','','','','','','5','2']
    ],

    /*      sudoku resolvido 

        ['9','2','6','1','7','8','5','4','3'],
        ['4','7','3','6','5','2','1','9','8'],
        ['8','5','1','9','4','3','6','2','7'],
        ['6','8','5','2','3','1','9','7','4'],
        ['7','3','4','8','9','5','2','6','1'],
        ['2','1','9','4','6','7','8','3','5'],
        ['5','6','8','7','2','4','3','1','9'],
        ['3','4','2','5','1','9','7','8','6'],
        ['1','9','7','3','8','6','4','5','2']
    */

    [

        ['5','','','','','','','',''],
        ['7','','','','','','2','',''],
        ['','2','','','','','','','8'],
        ['','','','','','9','','',''],
        ['','','','','','','','',''],
        ['','','','','2','','','',''],
        ['','3','','','','','','',''],
        ['','','','','','','7','',''],
        ['','','','','','','','','']
    ],

    /*      sudoku resolvido 

        ['5','4','9','2','1','8','3','6','7'],
        ['7','8','1','3','6','4','2','5','9'],
        ['3','2','6','5','9','7','1','4','8'],
        ['4','7','5','6','3','9','8','2','1'],
        ['2','9','3','8','4','1','6','7','5'],
        ['6','1','8','7','2','5','9','3','4'],
        ['9','3','7','1','5','2','4','8','6'],
        ['1','5','2','4','8','6','7','9','3'],
        ['8','6','4','9','7','3','5','1','2']
    */

    [

        ['','','','','1','','','',''],
        ['','','','','','','','1',''],
        ['','','','','4','','','',''],
        ['6','','','','','','','',''],
        ['','','','','','6','','',''],
        ['','','','','','','9','',''],
        ['1','','','','','','','',''],
        ['','5','','','','','','',''],
        ['','','','','8','','','','']
    ],

    /*      sudoku resolvido 

        ['2','9','6','3','1','8','5','7','4'],
        ['5','8','4','9','7','2','6','1','3'],
        ['7','1','3','6','4','5','2','8','9'],
        ['6','2','5','8','9','7','3','4','1'],
        ['9','3','1','4','2','6','8','5','7'],
        ['4','7','8','5','3','1','9','2','6'],
        ['1','6','7','2','5','3','4','9','8'],
        ['8','5','9','7','6','4','1','3','2'],
        ['3','4','2','1','8','9','7','6','5']
    */

]

let indice = Math.floor((Math.random() * 4)); 
let sudoku = listaSudoku[indice];

for(let col=0; col <= 8;col++){
    
    let tr = $('<tr>');
    for (let row=0; row <= 8;row++) {
        
           
            let input = $(`<input type="text" id="c${col}${row}" value="${sudoku[col][row]}">`)
            let td = $(`<td>`);
            td.append(input);
            tr.append(td);
            input.on('input', alterarInput)

    };
    
    $('#grade').append(tr);
}

    function alterarInput() { 
        let el = $(this);
        let _col = el.attr('id')[1];
        let _row = el.attr('id')[2];
        let valor = el.val();
    
    
        if (jogadaValida(sudoku, _col, _row, valor) || $(this).val() == "") {
            $(this).css({"color": "blue"});
            sudoku[_col][_row] = valor;
        } else {
            $(this).css({"color": "red"});
            alert("Ops! Esse valor está Incorreto: " + valor)
        };

        if (jogoVencido(sudoku)) {
        console.log("você venceu");
        }
    }
    
    function jogadaValida(tabela, col, row, value) {

        
        for(let i = 0; i <= 8; i++){
    
         
            if (!(value && value > 0 && value < 10)){
                return false;
            };
            
           
            if (value == tabela[col][0] || value == tabela[col][i+1]) {
                return false;
            };
            
            
            if (value == tabela[0][row] || value == tabela[i][row]) {
                return false;
            };
    

            let r1 = Math.floor(row / 3) * 3;
            let c1 = Math.floor(col / 3) * 3;
            for (let r = r1; r < r1 + 3; ++r) {
                for (let c = c1; c < c1 + 3; ++c) {
                    if (tabela[c][r] == value) return false;
                }
            }
        };
    
        return true;
        
    };
    
   
    function jogoVencido(tabela) {
        for(let i=0;i<=8;i++){
            for(let j=0;j<=8;j++){
                if (tabela[i][j] == '') {
                    return false;
                }
            }
        }

        alert("Parabens! Você Venceu")
        return true;
    }



    //esse final não faz parte da contrução do sudoku e somente para contrução de navegação da "div"

    $(document).ready(function(){
         		$("#content div:nth-child(1)").show();
         		$(".abas li:first div").addClass("selected");
         		$(".aba").click(function(){
         			$(".aba").removeClass("selected");
         			$(this).addClass("selected");
         			var indice = $(this).parent().index();
         			indice++;
         			$("#content div").hide();
         			$("#content div:nth-child("+indice+")").show();
         		});
        
         		$(".aba").hover(
         			function(){$(this).addClass("ativa")},
         			function(){$(this).removeClass("ativa")}
         		);
         	});